(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4830:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(110)}])},7312:function(e,t,r){"use strict";r.d(t,{Z:function(){return x}});var n=r(5893),i=r(5675),a=r.n(i),s={src:"/mcchub/_next/static/media/mccWhite.370122d3.svg",height:50,width:407,blurWidth:0,blurHeight:0},o={src:"/mcchub/_next/static/media/mccWhiteSmall.429d837c.svg",height:48,width:147,blurWidth:0,blurHeight:0},c=r(1664),l=r.n(c),u=r(1163),d=r(7294);function m(e){let{pages:t=[],rightPages:r=[]}=e,i=(0,u.useRouter)();r.length&&"Sign Out"==r[r.length-1][0]||r.push(["Sign Out","/?signout=true"]);let[c,m]=(0,d.useState)(!1);return(0,n.jsx)("div",{children:(0,n.jsxs)("nav",{className:"bg-gray-800",children:[(0,n.jsx)("div",{className:"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"relative flex h-16 items-center justify-between",children:[(0,n.jsx)("div",{className:"absolute inset-y-0 left-0 flex items-center md:hidden",children:(0,n.jsxs)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md p-2 text-gray-400 hover:bg-gray-700 hover:text-white focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-controls":"mobile-menu","aria-expanded":"false",onClick:()=>m(!c),children:[(0,n.jsx)("span",{className:"sr-only",children:"Open main menu"}),(0,n.jsx)("svg",{className:"h-6 w-6 "+(c?"hidden":"block"),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})}),(0,n.jsx)("svg",{className:"h-6 w-6 "+(c?"block":"hidden"),fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor","aria-hidden":"true",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})]})}),(0,n.jsxs)("div",{className:"flex flex-1 items-center justify-center md:items-stretch md:justify-start",children:[(0,n.jsx)("div",{className:"flex flex-shrink-0 items-center",children:(0,n.jsxs)(l(),{href:"/dashboard",children:[(0,n.jsx)(a(),{className:"block h-8 w-auto sm:hidden",priority:!0,src:o,alt:"MCC Small Logo"}),(0,n.jsx)(a(),{className:"hidden h-8 w-auto sm:block",priority:!0,src:s,alt:"MCC Logo"})]})}),(0,n.jsx)("div",{className:"hidden md:ml-6 md:block w-full",children:(0,n.jsxs)("div",{className:"flex",children:[t.map((e,t)=>{let[r,a]=e;return(0,n.jsx)(l(),{href:a,className:(i.pathname==a?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" rounded-md px-3 py-2 text-sm font-medium"+(0==t?" ml-0":" ml-2"),"aria-current":i.pathname==a?"page":void 0,children:r},t)}),(0,n.jsx)("div",{className:"flex-auto"}),r.map((e,t)=>{let[r,a]=e;return(0,n.jsx)(l(),{href:a,className:(i.pathname==a?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" rounded-md px-3 py-2 text-sm font-medium"+(0==t?" ml-0":" ml-2"),"aria-current":i.pathname==a?"page":void 0,children:r},t)})]})})]})]})}),(0,n.jsx)("div",{className:"md:hidden"+(c?"":" hidden"),id:"mobile-menu",children:(0,n.jsx)("div",{className:"space-y-1 px-2 pb-3 pt-2",children:[...t,...r].map((e,t)=>{let[r,a]=e;return(0,n.jsx)(l(),{href:a,className:(i.pathname==a?"bg-gray-900 text-white":"text-gray-300 hover:bg-gray-700 hover:text-white")+" block rounded-md px-3 py-2 text-base font-medium","aria-current":i.pathname==a?"page":void 0,children:r},t)})})})]})})}var h=r(1259),f=r(9008),g=r.n(f),b=r(4023),p=r(5696);function x(e){let{title:t,children:r,pages:i,rightPages:a}=e,[s,o]=(0,d.useState)(void 0),[c,l]=(0,d.useState)(""),f=(0,u.useRouter)();return(0,d.useEffect)(()=>{(0,h.Aj)(p.I,e=>{if(!e){f.push("/");return}o(e),(0,b.cY)().then(e=>{if(l(e),f.pathname.startsWith("/admin")&&"admin"!=e){f.push("/");return}})})},[f]),(0,n.jsxs)("div",{children:[(0,n.jsx)(g(),{children:(0,n.jsx)("title",{lang:"en",children:t?"".concat(t," | MCC Hub"):"MCC Hub"},"title")}),(0,n.jsx)(m,{pages:i||("student"==c?[["Dashboard","/dashboard"]]:"teacher"==c||"parent"==c?[["Dashboard","/dashboard"],["Students","/students"],["Payments","/payments"]]:"admin"==c?[["Dashboard","/admin"],["Users","/admin/users"],["Payments","/admin/payments"]]:[]),rightPages:a||[["Profile","/profile"]],user:null==s?void 0:s.email}),(0,n.jsx)("main",{className:"p-3",children:(0,n.jsx)("div",{children:r})})]})}},8063:function(e){"use strict";e.exports={gh_pages_config:{branch:"gh-pages",repo:"git@github.com:veehz/mcchub.git",message:"Auto-generated commit",nojekyll:!0,dotfiles:!0},genders:{male:"I am a Male",female:"I am a Female",undisclosed:"Other/I prefer not to disclose"},currency:"RM",registration_fee:20,bank_details:["Bank","Account Name","Number:1010101010"],links:[{href:"https://ioimalaysia.org/",name:"Malaysian Informatics and Programming Society (MIPS) Website"}],firebaseConfig:{apiKey:"AIzaSyC02WuJ5btg2A6iTeGwYi0IDzGKziODv2k",authDomain:"mcc-registration-test.firebaseapp.com",databaseURL:"https://mcc-registration-test-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"mcc-registration-test",storageBucket:"mcc-registration-test.appspot.com",messagingSenderId:"927692212307",appId:"1:927692212307:web:e3cd12ba84a9720b4b9ea6"}}},5696:function(e,t,r){"use strict";r.d(t,{I:function(){return c},db:function(){return l}});var n=r(3977),i=r(1259),a=r(1019),s=r(8063);let o=(0,n.ZF)(s.firebaseConfig),c=(0,i.v0)(o),l=(0,a.N8)(o)},110:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var n=r(5893),i=r(7312);function a(){return(0,n.jsx)(i.Z,{title:"Admin Dashboard",children:"To be updated"})}},4023:function(e,t,r){"use strict";r.d(t,{M_:function(){return s},_P:function(){return u},cY:function(){return o},fG:function(){return c},fM:function(){return l},s_:function(){return d}});var n=r(5696),i=r(1019);async function a(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!e&&n.I.currentUser)return n.I.currentUser;try{return await new Promise((e,t)=>{let r=n.I.onAuthStateChanged(t=>{r(),e(t)},t)})}catch(e){throw console.error("Error fetching user from Firebase:",e),e}}async function s(e){let t=await a();return null===t?null:(e=e||t.uid,new Promise((t,r)=>{(0,i.jM)((0,i.iH)(n.db,"users/"+e),e=>{t(e.val())},e=>{console.error("Error fetching user details from Firebase:",e),r(e)})}))}async function o(e){let t=await a();return null===t?null:(e=e||t.uid,new Promise((t,r)=>{(0,i.jM)((0,i.iH)(n.db,"role/"+e),e=>{t(e.val())},e=>{console.error("Error fetching user role from Firebase:",e),r(e)})}))}async function c(e){let t=await a();return null===t?null:(e=e||t.uid,new Promise((t,r)=>{(0,i.jM)((0,i.iH)(n.db,"managedStudents/"+e+"/"),e=>{t(e.val())},e=>{console.error("Error fetching managed students from Firebase:",e),r(e)})}))}async function l(e){let t=await c(e);return null===t?0:Object.keys(t).length}async function u(e){let t=await a();return null===t?null:(e=e||t.uid,new Promise((t,r)=>{(0,i.jM)((0,i.iH)(n.db,"payments/"+e+"/"),e=>{t(e.val())},e=>{console.error("Error fetching payments from Firebase:",e),r(e)})}))}async function d(){return null===await a()?null:new Promise((e,t)=>{(0,i.jM)((0,i.iH)(n.db,"contestInfo"),t=>{e(t.val())},e=>{console.error("Error fetching contest info from Firebase:",e),t(e)})})}}},function(e){e.O(0,[627,257,414,888,774,179],function(){return e(e.s=4830)}),_N_E=e.O()}]);